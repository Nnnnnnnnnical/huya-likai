webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},i,!1,function(t){a("Th+S")},null,null).exports,s=a("/ocq"),o=a("mtWM"),r=a.n(o),c=a("XLwt"),u=a.n(c);a("tcAE");var d={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},dateData:{type:Array},dateTitel:{type:Object}},data:function(){return{chart:null}},mounted:function(){console.log(this.dateData),this.initChart(this.dateData)},watch:{dateData:function(t,e){this.chart.clear(),this.initChart(t)}},methods:{initChart:function(t){this.chart=u.a.init(this.$el,"macarons"),this.chart.setOption({title:{text:this.dateTitel.title,subtext:"按照文件查询结果统计",x:"center"},series:[{type:"pie",radius:[15,80],center:["50%","50%"],animationDuration:2e3,data:t,animationEasing:"cubicInOut"}],tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"2",data:this.dateTitel.titleArray}})}}},p={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bg",class:this.className,style:{height:this.height,width:this.width}})},staticRenderFns:[]};var h={name:"dashboard",data:function(){return{message:"主页",limitNum:1,fileList:[],tableData:[],checkPlace:[{value:"0",name:"临时响应"},{value:"0",name:"成功"},{value:"0",name:"重定向"},{value:"0",name:"请求错误"},{value:"0",name:"服务器错误"}],samplePlace:[{value:"0",name:"一天内"},{value:"0",name:"一周内"},{value:"0",name:"其他"}],checkTitel:{title:"响应码比例图",titleArray:["临时响应","成功","重定向","请求错误","服务器错误"]},sampledateTitel:{title:"访问时间比例图",titleArray:["一天内","一周内","其他"]},totalNum:0,pageSize:20}},components:{pieChart:a("VU/8")(d,p,!1,function(t){a("Wczu")},"data-v-0c95e7ca",null).exports},methods:{submitUpload:function(){this.$refs.upload.submit()},successUpload:function(t){var e=this;console.log(t),this.tableData=t.list,this.totalNum=t.totalRecord,r.a.post("/sort",{}).then(function(t){console.log(t.data);var a=t.data.code,l=t.data.time;e.checkPlace=[{value:a.code1.toString(),name:"临时响应"},{value:a.code2.toString(),name:"成功"},{value:a.code3.toString(),name:"重定向"},{value:a.code4.toString(),name:"请求错误"},{value:a.code5.toString(),name:"服务器错误"}],e.samplePlace=[{value:l.time1.toString(),name:"一天内"},{value:l.time2.toString(),name:"一周内"},{value:l.time3.toString(),name:"其他"}]}).catch(function(t){console.log(t)})},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleCurrentChange:function(t){var e=this;r.a.post("/readFile/"+t,{}).then(function(t){console.log(t),e.tableData=t.data.list}).catch(function(t){console.log(t)})}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"content"},[a("div",{staticClass:"upload_box"},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"http://localhost:8081/readFile","on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-success":t.successUpload,"file-list":t.fileList,limit:t.limitNum,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传一个文件")])],1)],1),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{ref:"filterTable",staticStyle:{width:"100%",border:"1px solid #b9b8b8"},attrs:{data:t.tableData,height:"450"}},[a("el-table-column",{attrs:{prop:"ip",label:"ip"}}),t._v(" "),a("el-table-column",{attrs:{prop:"statusCode",width:"110",label:"响应码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"requestMethod",width:"110",label:"请求方法"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url",width:"240",label:"url"}}),t._v(" "),a("el-table-column",{attrs:{prop:"agent",label:"浏览器agent"}}),t._v(" "),a("el-table-column",{attrs:{prop:"interviewTime",label:"访问时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"timeConsuming",width:"110",label:"耗时ip"}})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"","page-size":t.pageSize,layout:"prev, pager, next",total:t.totalNum},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper"},[a("pie-chart",{attrs:{dateData:t.checkPlace,dateTitel:t.checkTitel}})],1)]),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper"},[a("pie-chart",{attrs:{dateData:t.samplePlace,dateTitel:t.sampledateTitel}})],1)])],1)],1)])])},staticRenderFns:[]};var v=a("VU/8")(h,m,!1,function(t){a("RX1H")},"data-v-46d46229",null).exports;l.default.use(s.a);var g=new s.a({routes:[{path:"/",name:"HelloWorld",component:v}]}),f=a("zL8q"),b=a.n(f);a("tvR6");l.default.config.productionTip=!1,l.default.use(b.a),r.a.defaults.baseURL="http://localhost:8081",new l.default({el:"#app",router:g,components:{App:n},template:"<App/>"})},RX1H:function(t,e){},"Th+S":function(t,e){},Wczu:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d482262bad27d2c446e0.js.map